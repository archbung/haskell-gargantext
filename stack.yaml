resolver: lts-21.17
flags:
    accelerate:
        debug: false
    wikiparsec:
        library-only: true
extra-package-dbs: []
skip-ghc-check: true
packages:
- .

docker:
  enable: false
  repo: 'cgenie/stack-build:lts-18.18-garg'
  run-args:
    - '--publish=8008:8008'

nix:
  enable: false
  add-gc-roots: true
  shell-file: nix/stack-shell.nix

allow-newer: true

extra-deps:
- git: https://gitlab.iscpif.fr/gargantext/haskell-gargantext-prelude
  commit: 5a8dc3a0a1a4774ec2eb9df5f0f0b0a7dd172f09
- git: https://gitlab.iscpif.fr/gargantext/iso639.git
  commit: eab929d106833ded8011a0d6705135e3fc506a9c
- git: https://gitlab.iscpif.fr/gargantext/gargantext-graph.git
  commit: 588e104fe7593210956610cab0041fd16584a4ce
  # Data Mining Libs
- git: https://github.com/delanoe/data-time-segment.git
  commit: 10a416b9f6c443866b36479c3441ebb3bcdeb7ef
- git: https://gitlab.iscpif.fr/gargantext/hlcm.git
  commit: 6f0595d2421005837d59151a8b26eee83ebb67b5
  # API libs
- git: https://gitlab.iscpif.fr/gargantext/servant-xml-conduit.git
  commit: 339fd608341bd2652cf5c0e9e76a3293acffbea6
  # Databases libs
- git: https://github.com/adinapoli/haskell-opaleye.git
  commit: e9a29582ac66198dd2c2fdc3f8c8a4b1e6fbe004
- git: https://github.com/robstewart57/rdf4h.git
  commit: 4fd2edf30c141600ffad6d730cc4c1c08a6dbce4
  # External Data API connectors
- git: https://gitlab.iscpif.fr/gargantext/crawlers/pubmed.git
  commit: 300764df4f78ea6175535f9b78b884cc2aa9da61
- git: https://gitlab.iscpif.fr/gargantext/crawlers/istex.git
  commit: eef5c951a6862bed31f59cd6f81a1f5fe545ac8a
- git: https://gitlab.iscpif.fr/gargantext/crawlers/hal.git
  commit: bfa9069b4ff70f341ca3244e8aff9e83eb4b8b73
- git: https://gitlab.iscpif.fr/gargantext/crawlers/isidore.git
  commit: 3db385e767d2100d8abe900833c6e7de3ac55e1b
- git: https://gitlab.iscpif.fr/gargantext/crawlers/arxiv-api.git
  commit: eb130c71fa17adaceed6ff66beefbccb13df51ba
- git: https://gitlab.iscpif.fr/gargantext/crawlers/openalex.git
  commit: 35a95e7e8da655f868d5420aa29e835a813fa3a2
- git: https://gitlab.iscpif.fr/gargantext/crawlers/epo-proxy-api.git
  commit: 9225d046083853200b9045c8d71161e6a234fc5c
  # NP libs
- git: https://github.com/alpmestan/servant-job.git
  commit: b4182487cfe479777c11ca19f3c0d47840b376f6
- git: https://github.com/delanoe/patches-map
  commit: 76cae88f367976ff091e661ee69a5c3126b94694
- git: https://gitlab.iscpif.fr/gargantext/patches-class.git
  commit: 3668d28607867a88b2dfc62158139b3cfd629ddb
  # Graph libs
- git: https://gitlab.iscpif.fr/gargantext/haskell-igraph.git
  # 0.10.4-rc2
  commit: 9f8a2f4a014539826a4eab3215cc70c0813f20cb
- git: https://gitlab.iscpif.fr/gargantext/haskell-infomap.git
  commit: 1370fea1939e2378ce344e512d80671ac700e787
  # Accelerate Linear Algebra and specific instances
- git: https://github.com/AccelerateHS/accelerate.git
  commit: 334d05519436bb7f20f9926ec76418f5b8afa359
- git: https://github.com/alpmestan/accelerate-arithmetic.git
  commit: a110807651036ca2228a76507ee35bbf7aedf87a
- git: https://gitlab.iscpif.fr/amestanogullari/accelerate-utility.git
  commit: a3875fe652d3bb5acb522674c22c6c814c1b4ad0
- git: https://github.com/AccelerateHS/accelerate-llvm.git
  commit: 2b5d69448557e89002c0179ea1aaf59bb757a6e3
  subdirs:
    - accelerate-llvm/
    - accelerate-llvm-native/
- git: https://github.com/adinapoli/wikiparsec.git
  commit: b3519a0351ae9515497680571f76200c24dedb53
  # Gargantext-graph
- git: https://github.com/chessai/eigen.git
  commit: 8fff32a43df743c8c83428a86dd566a0936a4fba
- git: https://github.com/alpmestan/sparse-linear.git
  commit: bc6ca8058077b0b5702ea4b88bd4189cfcad267a
  subdirs:
    - sparse-linear
- git: https://github.com/alpmestan/hmatrix.git
  commit: b9fca8beee0f23c17a6b2001ec834d071709e6e7
  subdirs:
    - packages/base
- git: https://github.com/chessai/eigen.git
  commit: 1790fdf9138970dde0dbabf8b270698145a4a88c
- git: https://github.com/adinapoli/llvm-hs.git
  commit: 7533a9ccd3bfe77141745f6b61039a26aaf5c83b
  subdirs:
    - llvm-hs
    - llvm-hs-pure
  # Mercury is a reputable Haskell company.
- git: https://github.com/MercuryTechnologies/ekg-json.git
  commit: 232db57d6ce0940fcc902adf30a9ed3f3561f21d
  # Temporary fork of boolexpr
- git: https://github.com/adinapoli/boolexpr.git
  commit: 91928b5d7f9342e9865dde0d94862792d2b88779
  # Temporary fork of duckling
- git: https://github.com/adinapoli/duckling.git
  commit: 23603a832117e5352d5b0fb9bb1110228324b35a
- git: https://github.com/adinapoli/text16-compat.git
  commit: 85533b5d597e6fc5498411b4bcfc76380ec80d71
  # Others dependencies (using stack resolver)
- HSvm-0.1.1.3.22
- KMP-0.2.0.0@sha256:6dfbac03ef00ebd9347234732cb86a40f62ab5a80c0cc6bedb8eb51766f7df28,2562
- MissingH-1.4.3.0@sha256:32f9892ec98cd21df4f4d3ed8d95a3831ae74287ea0641d6f09b2dc6ef061d39,4859
- Unique-0.4.7.8@sha256:9661f45aa31dde119a2114566166ea38b011a45653337045ee4ced75636533c0,2067
- context-0.2.0.0@sha256:6b643adb4a64fe521873d08df0497f71f88e18b9ecff4b68b4eef938e446cfc9,1886
- dependent-sum-0.7.1.0@sha256:0e419237f5b86da3659772afff9cab355c0f8d5b3fdb15a5b30e673d8dc83941,2147
- full-text-search-0.2.1.4@sha256:81f6df3327e5b604f99b15e78635e5d6ca996e504c21d268a6d751d7d131aa36,6032
- fullstop-0.1.4@sha256:80a3e382ef53551bb936e7da8b2825621df0ea169af1212debcb0a90010b30c8,2044
- hgal-2.0.0.2@sha256:13d58afd0668b9cb881c612eff8488a0e289edd4bbffa893df4beee60cfeb73b,653
- hsparql-0.3.8
- hspec-2.11.1
- hspec-core-2.11.1
- hspec-discover-2.11.1
- hspec-expectations-0.8.3
- hstatistics-0.3.1
- ihaskell-0.11.0.0
- ipython-kernel-0.11.0.0
- located-base-0.1.1.1@sha256:7c6395f2b6fbf2d5f76c3514f774423838c0ea94e1c6a5530dd3c94b30c9d1c8,1904
- logging-effect-1.3.12@sha256:72d168dd09887649ba9501627219b6027cbec2d5541931555b7885b133785ce3,1679
- logict-0.8.0.0
- monad-logger-aeson-0.2.0.0
- rake-0.0.1@sha256:3380f6567fb17505d1095b7f32222c0b631fa04126ad39726c84262da99c08b3,2025
- random-1.2.1
- recover-rtti-0.4.3
- servant-ekg-0.3.1@sha256:19bd9dc3943983da8e79d6f607614c68faea4054fb889d508c8a2b67b6bdd448,2203
- servant-flatten-0.2@sha256:276896f7c5cdec5b8f8493f6205fded0cc602d050b58fdb09a6d7c85c3bb0837,1234
- servant-mock-0.8.7@sha256:64cb3e52bbd51ab6cb25e3f412a99ea712c6c26f1efd117f01a8d1664df49c67,2306
- stemmer-0.5.2@sha256:823aec56249ec2619f60a2c0d1384b732894dbbbe642856d337ebfe9629a0efd,4082
- taggy-0.2.1@sha256:7bc55ddba178971dc6052163597f0445a0a2b5b0ca0e84ce651d53d722e3c265,4662
- taggy-lens-0.1.2@sha256:091ca81d02bd3d7fb493dce0148e1a38f25eb178a1ebd751043a23239e5e3265,3009
- tasty-hspec-1.2.0.3
- tmp-postgres-1.34.1.0
- vector-0.12.3.0@sha256:0ae2c1ba86f0077910be242ec6802cc3d7725fe7b2bea6987201aa3737b239b5,7953
- wai-3.2.4

# For the graph clustering
ghc-options:
  hmatrix: -O2 -fsimpl-tick-factor=10000 -fdicts-cheap -fdicts-strict -flate-dmd-anal  -fno-state-hack
  sparse-linear: -O2 -fsimpl-tick-factor=10000 -fdicts-cheap -fdicts-strict -flate-dmd-anal  -fno-state-hack
  gargantext-graph: -O2 -fsimpl-tick-factor=10000 -fdicts-cheap -fdicts-strict -flate-dmd-anal  -fno-state-hack
  "$locals": -fwrite-ide-info -hiedir=".stack-work/hiedb"
